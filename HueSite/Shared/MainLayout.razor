@inherits LayoutComponentBase
@inject NavigationManager nav

<div class="main-layout">


    <div class="mobile-menu @isCollapsed">
        <div class="button-closer" @onclick="Toggle"><i class="fa fa-close"></i></div>
        <Menu />
    </div>


    <AuthorizeView>
        <Authorized>
            <div class="button-expander" @onclick="Toggle"><i class="fas fa-ellipsis-v"></i></div>
            <div class="user-container @isCollapsedUser">
                <div class="user-button-closer" ><i class="fa fa-close pointer" @onclick="UserToogle"></i></div>

                <UserComponent />
                
            </div>
            <div class="user-button" @onclick="UserToogle"><i class="fa fa-user"></i></div>
        </Authorized>
    </AuthorizeView>

    <div class="main-container">
        <!--<div class="menu">
            <Menu />
        </div>-->
        <main class="main-content">
            @Body
        </main>
    </div>
</div>

@code
{
    bool collapse = true;
    string isCollapsed = "";

    bool collapseUser = true;
    string isCollapsedUser = "";

    void Toggle()
    {
        collapse = !collapse;
        isCollapsed = collapse ? "" : "NoCollapse";
    }

    void UserToogle()
    {
        collapseUser = !collapseUser;
        isCollapsedUser = collapseUser ? "" : "NoCollapse";
    }
}