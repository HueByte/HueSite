@inject NavigationManager nav
@implements IDisposable

<!--<div @onclick="(() => nav.NavigateTo(Homepage))"><div class="item" style="margin-top: 30px;"><i class="fa fa-fw fa-home"></i> Homepage</div></div>-->
<NavLink href="/"><div class="item" style="margin-top: 30px;"><i class="fas fa-fire"></i> Homepage</div></NavLink>
<AuthorizeView Roles="admin">
    <Authorized>
        <NavLink href="/admin"><div class="item @adminState"><i class="fas fa-code-branch"></i> Admin panel</div></NavLink>
    </Authorized>
</AuthorizeView>
<NavLink href="/sortingalgorithms"><div class="item @sortingState"><i class="fas fa-filter"></i> Sorting Algorithms</div></NavLink>
<div class="item"><i class="fa fa-code"></i> item</div>
<div class="item"><i class="fa fa-code"></i> item</div>
<div class="item"><i class="fa fa-code"></i> item</div>



@code {
    //Active links
    string adminState = "";
    string sortingState = "";

    protected override Task OnInitializedAsync()
    {
        nav.LocationChanged += LocationChanged;
        return base.OnInitializedAsync();
    }

    void LocationChanged(object sender, LocationChangedEventArgs e)
    {
        string navMethod = e.IsNavigationIntercepted ? "HTML" : "code";
        adminState = nav.Uri == $"{nav.BaseUri}admin" ? "current-item" : "";
        sortingState = nav.Uri == $"{nav.BaseUri}sortingalgorithms" ? "current-item" : "";
        StateHasChanged();
    }

    void IDisposable.Dispose()
    {
        nav.LocationChanged -= LocationChanged;
    }

}
